<!DOCTYPE html>
<html lang="en" ng-app="myApp">
<head>
	<meta charset="UTF-8">
	<title>myDirective</title>
</head>
<body>

	<div ng-controller="mytest">
	    父：<input type="text" ng-model="data.name" />
	    <test></test>
	</div>

</body>

<script src="//cdn.bootcss.com/angular.js/1.5.8/angular.min.js" type="text/javascript"></script>
<script>
	var app=angular.module("myApp",[]);
	app.controller("mytest", function ($scope) {
	    $scope.data = {
	        name : "jack",
	        age : 25
	    }
	});
	app.directive("test",function(){
	    return {
	        restrict : "E",
	        template : '<div data="data">子指令:<input ng-model="data.name" /></div>',
	        replace : true,
	        scope : {
	            data : "="
	        },
	        controller : function($scope){
			    $scope.data = {
			        name : "jack2",
			        age : 25
			    }
	            console.log($scope.data);  //Object {name: "jack", age: 25}
	        },
	        link : function ($scope) {
	            console.log($scope.data); //Object {name: "jack", age: 25}
	        }
	    }
	});

</script>
</html>


